"use strict";(self.webpackChunkh3_website=self.webpackChunkh3_website||[]).push([[2634],{7625:(e,t,n)=>{n.d(t,{L:()=>W});var l=n(6540),i=n(7304),r=n(5276),a=n(3540);const o=e=>"@media screen and (max-width: 480px)";var s,c,u,d,m,h;const p=a.Ay.div(s||(s=(0,r.A)(["\n  height: 100%;\n  "," {\n    height: 40vh;\n  }\n  .tooltip,\n  .deck-tooltip {\n    position: absolute;\n    padding: 4px 12px;\n    background: rgba(0, 0, 0, 0.8);\n    color: var(--ifm-color-white);\n    max-width: 300px;\n    font-size: 12px;\n    z-index: 9;\n    pointer-events: none;\n    white-space: nowrap;\n  }\n"])),o),g=a.Ay.section(c||(c=(0,r.A)(["\n  position: relative;\n  height: 30rem;\n  background: var(--ifm-color-gray-400);\n  color: var(--ifm-color-gray-900);\n  z-index: 0;\n  "," {\n    height: 40vh;\n  }\n"])),o),x=a.Ay.div(u||(u=(0,r.A)(["\n  position: relative;\n  padding: 2rem;\n  max-width: 80rem;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n"]))),b=(0,a.Ay)(x)(d||(d=(0,r.A)(["\n  position: absolute;\n  bottom: 2rem;\n  height: auto;\n  max-height: 90%;\n  overflow-y: scroll;\n  left: 2rem;\n  z-index: 0;\n  width: auto;\n  max-width: 20em;\n  background-color: white;\n  border-radius: 20px;\n  padding: 1rem;\n"]))),E=a.Ay.div(m||(m=(0,r.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n"])));a.Ay.section(h||(h=(0,r.A)(["\n  &:nth-child(2n + 1) {\n    background: var(--ifm-color-gray-300);\n  }\n"])));var f=n(3681);function w(e){let{hex:t,setUserInput:n}=e;const i=(0,l.useCallback)((()=>{n(t)}),[t,n]);return l.createElement("a",{onClick:i,style:{cursor:"pointer"}},t)}function v(e){let{hexes:t,setUserInput:n,showAll:i=!0}=e;const r=(0,l.useCallback)((()=>{n(t.join(", "))}),[t,n]);return l.createElement(l.Fragment,null,t.map(((e,t)=>{const i=l.createElement(w,{key:e,setUserInput:n,hex:e});return 0===t?i:l.createElement("span",{key:e},", ",i)})),i?l.createElement(l.Fragment,null,"\xa0",l.createElement("a",{onClick:r,style:{cursor:"pointer"}},"(show all)")):l.createElement(l.Fragment,null))}function k(e){let{setUserInput:t,splitUserInput:n,showNavigation:r=!0,showDetails:a=!0}=e;if(1===n.length){const e=n[0],o=function(e){return(0,i.Hn)(e)<8?{area:i.QN.km2,dist:i.QN.km}:{area:i.QN.m2,dist:i.QN.m}}(e),s=(0,i.Hn)(e),c=s/3+7,u=(0,i.l3)(e),d=(0,i.PB)(e),m=(0,i.O$)(e).join(", "),h=(0,i._k)(e).map((e=>e.toPrecision(c))).join(", "),p=0===s?"(none)":function(e){const t=(0,i.h6)(e);return[t[1]>>10&7,t[1]>>7&7,t[1]>>4&7,t[1]>>1&7,(1&t[1])<<2|t[0]>>30&3,t[0]>>27&7,t[0]>>24&7,t[0]>>21&7,t[0]>>18&7,t[0]>>15&7,t[0]>>12&7,t[0]>>9&7,t[0]>>6&7,t[0]>>3&7,7&t[0]]}(e).slice(0,s).join(""),g=(0,i.u$)(e),x=(0,i.Sq)(e,o.area).toPrecision(c),b=(0,i.Wq)(e).map((e=>(0,i.Wy)(e,o.dist))),E=(b.reduce(((e,t)=>void 0!==e?e+t:t))/b.length).toPrecision(c),f=0!==s&&(0,i.s7)(e,s-1),k=15!==s&&(0,i.xZ)(e,s+1),A=(0,i.uE)(e,1).filter((t=>t!==e));return l.createElement("p",{style:{marginBottom:"0"}},"Lat./Lng.: ",l.createElement("tt",null,h),r?l.createElement(l.Fragment,null,l.createElement("br",null),"Parent:"," ",f?l.createElement(w,{hex:f,setUserInput:t}):l.createElement("tt",null,"(none)"),l.createElement("br",null),"Children:"," ",k?l.createElement(v,{hexes:k,setUserInput:t}):l.createElement("tt",null,"(none)"),l.createElement("br",null),"Neighbors:"," ",l.createElement(v,{hexes:A,setUserInput:t}),l.createElement("br",null)):l.createElement(l.Fragment,null),a?l.createElement("details",null,l.createElement("summary",null,"Details"),"Resolution: ",l.createElement("tt",null,s),l.createElement("br",null),"Base cell: ",l.createElement("tt",null,u),l.createElement("br",null),"Pentagon: ",l.createElement("tt",null,""+d),l.createElement("br",null),"Icosa Face IDs: ",l.createElement("tt",null,m),l.createElement("br",null),"# of Boundary Verts: ",l.createElement("tt",null,g.length),l.createElement("br",null),"Cell Area: ",l.createElement("tt",null,x)," ",o.area,l.createElement("br",null),"Mean Edge Length: ",l.createElement("tt",null,E)," ",o.dist,l.createElement("br",null),"Indexing Digits: ",l.createElement("tt",null,p)):l.createElement(l.Fragment,null))}return l.createElement("p",{style:{marginBottom:"0"}},l.createElement(v,{hexes:n,setUserInput:t,showAll:!1}))}var A=n(8929),y=n(724),C=n(2420),I=n(3485),F=n(6992),N=n(4299),P=n(4586);const S={longitude:-74.012,latitude:40.705,zoom:2.5,pitch:0,bearing:0},z="mapbox://styles/mapbox/light-v11";function H(e){let{userInput:t=[],userValidHex:n=!1,initialViewState:r=S,mapStyle:a=z,objectOnClick:o,coordinateOnClick:s}=e;const c=(0,P.A)(),[u,d]=(0,l.useState)(r),[m,h]=(0,l.useState)(!1),p=(0,l.useRef)(),g=(0,l.useMemo)((()=>(0,i.yn)().map((e=>({hex:e})))),[]),x=(0,l.useMemo)((()=>(0,i.Y9)((0,i.yn)(),1).map((e=>({hex:e})))),[]),b=(0,l.useMemo)((()=>(0,i.Y9)((0,i.yn)(),2).map((e=>({hex:e})))),[]),[E,f]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=()=>{f(window.width)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[f]),(0,l.useEffect)((()=>{if(n&&p.current){const{width:e,height:n}=p.current.deck,l=new F.A({width:e,height:n});let r=1/0,a=1/0,o=-1/0,s=-1/0;for(const c of t){const e=(0,i.u$)(c,!0);for(const t of e)t[0]<r?r=t[0]:t[0]>o&&(o=t[0]),t[1]<a?a=t[1]:t[1]>s&&(s=t[1])}if(Number.isFinite(r)&&Number.isFinite(a)&&Number.isFinite(o)&&Number.isFinite(s)&&e>1&&n>1){const{latitude:e,longitude:t,zoom:n}=l.fitBounds([[r,a],[o,s]],{padding:96});d({latitude:e,longitude:t,zoom:n,transitionInterpolator:new N.A,transitionDuration:1600})}}}),[t,n,m]);const w=n?[new C.A({id:"userhex",data:t.map((e=>({hex:e}))),getHexagon:e=>e.hex,extruded:!1,filled:!1,stroked:!0,getLineColor:[0,0,0],getLineWidth:2,lineWidthUnits:"pixels",lineWidthMinPixels:2,highPrecision:!0,pickable:!0,filled:!0,getFillColor:[0,0,0,30]})]:[new C.A({id:"res0",data:g,getHexagon:e=>e.hex,extruded:!1,filled:!1,stroked:!0,getLineColor:[0,0,0],getLineWidth:3,lineWidthMinPixels:3,highPrecision:!0}),new C.A({id:"res1",data:x,getHexagon:e=>e.hex,extruded:!1,filled:!1,stroked:!0,getLineColor:[0,0,0],getLineWidth:2,lineWidthMinPixels:2,highPrecision:!0,lineWidthUnits:"pixels",getDashArray:[5,1],dashJustified:!0,dashGapPickable:!0,extensions:[new I.A({dash:!0})]}),new C.A({id:"res2",data:b,getHexagon:e=>e.hex,extruded:!1,filled:!1,stroked:!0,getLineColor:[0,0,0],getLineWidth:1,lineWidthMinPixels:1,highPrecision:!0,lineWidthUnits:"pixels",getDashArray:[5,5],dashJustified:!0,dashGapPickable:!0,extensions:[new I.A({dash:!0})]})],v=(0,l.useCallback)((e=>{let{object:t}=e;if(t&&t.hex)return{html:"<tt>"+t.hex+"</tt>"}}),[]),k=(0,l.useCallback)((e=>{let{isHovering:t}=e;return t?"pointer":"auto"}),[]),H=(0,l.useCallback)((e=>{let{object:t,coordinate:n,viewport:l}=e;t&&t.hex?o&&o({hex:t.hex}):s&&s({coordinate:n,zoom:l.zoom})}),[o,s]);return l.createElement(y.A,{ref:p,layers:w,initialViewState:u,getTooltip:v,getCursor:k,onClick:H,onLoad:()=>h(!0),controller:{dragPan:E&&E>=480},touchAction:"pan-y"},l.createElement(A.T5,{reuseMaps:!0,interactive:!1,projection:"mercator",mapboxAccessToken:c.siteConfig.customFields.mapboxAccessToken,mapStyle:a}))}const L=e=>{let{setUserInput:t}=e;const[n,r]=(0,l.useState)(""),a=(0,l.useCallback)((async()=>{"geolocation"in navigator?(r("Locating..."),navigator.geolocation.getCurrentPosition((e=>{t((0,i.Sg)(e.coords.latitude,e.coords.longitude,11)),r("")}),(()=>{r("Error")}))):r("No location services")}),[t]);return l.createElement("div",{style:{position:"absolute",right:"12px",top:"12px"}},l.createElement("button",{type:"button",onClick:a,title:"Where am I?",disabled:Boolean(n)},n||l.createElement("img",{style:{filter:"grayscale(1)"},src:"images/icon-high-precision.svg",alt:"Where am I?",title:"Where am I?"})))};function U(e){return e?e.trim():""}function W(e){let{children:t}=e;const[n,r]=(0,f.ZA)("hex",""),a=(0,l.useMemo)((()=>function(e){if(e){const n=((t=e)?t=(t=(t=(t=(t=(t=(t=(t=t.trim()).replaceAll("["," ")).replaceAll("]"," ")).replaceAll('"'," ")).replaceAll("'"," ")).replaceAll(","," ")).replaceAll("{"," ")).replaceAll("}"," "):"").split(/\s/).filter((e=>""!==e)),l=[];for(let e=0;e<n.length;e++){const t=U(n[e]),r=U(n[e+1]);if((0,i.JS)(t))l.push(t);else if(e<n.length-1&&Number.isFinite(Number.parseFloat(t))&&Number.isFinite(Number.parseFloat(r))){const n=Number.parseFloat(t),a=Number.parseFloat(r);for(let e=0;e<16;e++)l.push((0,i.Sg)(n,a,e));e++}}return l}var t;return[]}(n)),[n]),o=(0,l.useMemo)((()=>a.map(i.JS).includes(!0)),[a]),s=(0,l.useMemo)((()=>{const e=new Set(a.map(i.Hn));return 1===e.size?[...e][0]:void 0}),[a]),c=(0,l.useCallback)((e=>{let{hex:t}=e;const n=new Set(a);n.delete(t)||n.add(t),r([...n].join(", "))}),[a,r]),u=(0,l.useCallback)((e=>{let{coordinate:t,zoom:n}=e;if(void 0!==s){const e=new Set(a);e.add((0,i.Sg)(t[1],t[0],s)),r([...e].join(", "))}else if(0===a.length){const e=function(e){return Math.max(Math.min(e/1.5,15),0)}(n);r(""+(0,i.Sg)(t[1],t[0],e))}}),[a,r,s]);return l.createElement(l.Fragment,null,l.createElement(g,null,l.createElement(E,null,l.createElement(p,null,l.createElement(H,{userInput:a,userValidHex:o,objectOnClick:c,coordinateOnClick:u}))),l.createElement(b,null,l.createElement("textarea",{type:"text",value:n,onChange:e=>{r(e.target.value)},placeholder:"Click on map or enter cell IDs",style:{marginRight:"0.5rem",height:"3em",minHeight:"2em",maxHeight:"10em",width:"100%",resize:"vertical"}}),a.length?l.createElement(k,{splitUserInput:a,setUserInput:r,showNavigation:!1,showDetails:!0}):l.createElement(l.Fragment,null)),l.createElement(L,{setUserInput:r})),t)}},192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var l,i=n(5276),r=n(6540),a=n(3540),o=n(9408),s=n(8478);const c=a.Ay.div(l||(l=(0,i.A)(["\n  max-width: 800px;\n  padding: 64px 112px;\n  width: 70%;\n  font-size: 14px;\n\n  h2 {\n    font: bold 32px/48px;\n    margin: 24px 0 16px;\n    position: relative;\n  }\n  h3 {\n    font: bold 16px/24px;\n    margin: 16px 0 0;\n    position: relative;\n  }\n  h3 > img {\n    position: absolute;\n    top: -4px;\n    width: 36px;\n    left: -48px;\n  }\n  hr {\n    border: none;\n    background: #e1e8f0;\n    height: 1px;\n    margin: 24px 0 0;\n    width: 32px;\n    height: 2px;\n  }\n  @media screen and (max-width: 768px) {\n    max-width: 100%;\n    width: 100%;\n    padding: 48px 48px 48px 80px;\n  }\n"])));function u(){return r.createElement(o.A,{title:"Home",description:"H3"},r.createElement(s.A,null,(()=>{const e=n(7625).L;return r.createElement(e,null)})),r.createElement("div",{style:{position:"relative"}},r.createElement(c,null,r.createElement("h2",null,"H3 indexes points and shapes into a hexagonal grid."),r.createElement("hr",{className:"short"}),r.createElement("p",null,"H3 is a discrete global grid system for indexing geographies into a hexagonal grid, developed at Uber."),r.createElement("p",null,"Coordinates can be indexed to cell IDs that each represent a unique cell."),r.createElement("p",null,"Indexed data can be quickly joined across disparate datasets and aggregated at different levels of precision."),r.createElement("p",null,"H3 enables a range of algorithms and optimizations based on the grid, including nearest neighbors, shortest path, gradient smoothing, and more."))))}}}]);