"use strict";(self.webpackChunkh3_website=self.webpackChunkh3_website||[]).push([[9957],{5680:(e,t,r)=>{r.d(t,{xA:()=>d,yg:()=>u});var n=r(6540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),m=s(r),u=o,y=m["".concat(l,".").concat(u)]||m[u]||p[u]||i;return r?n.createElement(y,a(a({ref:t},d),{},{components:r})):n.createElement(y,a({ref:t},d))}));function u(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=m;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var s=2;s<i;s++)a[s]=r[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1455:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var n=r(8168),o=(r(6540),r(5680));const i={id:"geoToH3desc",title:"Conversion from latitude/longitude to containing H3 cell index",sidebar_label:"Conversion from latitude/longitude to containing H3 cell index",slug:"/core-library/geoToH3desc"},a=void 0,c={unversionedId:"core-library/geoToH3desc",id:"version-3.x/core-library/geoToH3desc",title:"Conversion from latitude/longitude to containing H3 cell index",description:"This operation is performed by function geoToH3. See the comments in the function for more detail.",source:"@site/versioned_docs/version-3.x/core-library/geoToH3desc.md",sourceDirName:"core-library",slug:"/core-library/geoToH3desc",permalink:"/docs/3.x/core-library/geoToH3desc",draft:!1,editUrl:"https://github.com/uber/h3/edit/master/website/docs/core-library/geoToH3desc.md",tags:[],version:"3.x",frontMatter:{id:"geoToH3desc",title:"Conversion from latitude/longitude to containing H3 cell index",sidebar_label:"Conversion from latitude/longitude to containing H3 cell index",slug:"/core-library/geoToH3desc"},sidebar:"version-3.x/someSidebar",previous:{title:"Unix-style Filters for H3",permalink:"/docs/3.x/core-library/filters"},next:{title:"Determine the latitude/longitude coordinates of the center point of an H3Index cell",permalink:"/docs/3.x/core-library/h3ToGeoDesc"}},l={},s=[],d={toc:s};function p(e){let{components:t,...r}=e;return(0,o.yg)("wrapper",(0,n.A)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"This operation is performed by function ",(0,o.yg)("inlineCode",{parentName:"p"},"geoToH3"),". See the comments in the function for more detail."),(0,o.yg)("p",null,"The conversion is performed as a series of coordinate system conversions described below. See the page ",(0,o.yg)("a",{parentName:"p",href:"/docs/core-library/coordsystems"},"Coordinate Systems used by the H3 Core Library")," for more information on each of these coordinate systems."),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"The input latitude/longitude coordinate is first converted into the containing icosahedron face and a ",(0,o.yg)("em",{parentName:"p"},"Hex2d")," coordinate on that face using function ",(0,o.yg)("inlineCode",{parentName:"p"},"_geoToHex2d"),", which determines the correct face and then performs a face-centered gnomonic projection into face-centered polar coordinates. These polar coordinates are then scaled appropriately to a ",(0,o.yg)("em",{parentName:"p"},"Hex2d")," coordinate on the input grid resolution ",(0,o.yg)("em",{parentName:"p"},"r"),".")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"The ",(0,o.yg)("em",{parentName:"p"},"Hex2d")," coordinate is converted into resolution ",(0,o.yg)("em",{parentName:"p"},"r")," normalized ",(0,o.yg)("em",{parentName:"p"},"ijk")," coordinates using function ",(0,o.yg)("inlineCode",{parentName:"p"},"_hex2dToCoordIJK"),".")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("p",{parentName:"li"},"The face and face-centered ",(0,o.yg)("em",{parentName:"p"},"ijk")," coordinates are then converted into an ",(0,o.yg)("inlineCode",{parentName:"p"},"H3Index")," representation using the following steps:"),(0,o.yg)("ul",{parentName:"li"},(0,o.yg)("li",{parentName:"ul"},"the H3 index digits are calculated from resolution ",(0,o.yg)("em",{parentName:"li"},"r")," up to 0, adjusting the ",(0,o.yg)("em",{parentName:"li"},"ijk")," coordinates at each successively coarser resolution."),(0,o.yg)("li",{parentName:"ul"},"when resolution 0 is reached, if the remaining ",(0,o.yg)("em",{parentName:"li"},"ijk")," coordinates are (0,0,0) then the base cell centered on the face is chosen for the index"),(0,o.yg)("li",{parentName:"ul"},"if the remaining resolution 0 ",(0,o.yg)("em",{parentName:"li"},"ijk")," coordinates are not (0,0,0), then a lookup operation is performed to find the appropriate base cell and the required rotation (if any) to orient the cell in that base cell's coordinate system. The index is then translated and rotated into the coordinate system centered on the new base cell.")))))}p.isMDXComponent=!0}}]);